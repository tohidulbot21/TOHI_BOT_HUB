module.exports.config = {
  name: "automsg", // <-- Bot name!
  version: "1.0.0",
  permission: 0,
  credits: "TOHI-BOT-HUB", // ðŸ’Ž Credit: TOHIDUL (Legendary) ðŸ’Ž
  description: "Legendary stylish Bangla auto time messages by TOHIDUL",
  usePrefix: true,
  commandCategory: "automsg",
  usages: "none",
  cooldowns: 5,
  dependencies: {}
};

// Stylish and legendary auto time messages!
const timeMessages = [
  { timer: "12:00:00 AM", message: ["ðŸŒ™âœ¨ à¦à¦–à¦¨ à¦°à¦¾à¦¤ à§§à§¨à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡, à¦•à¦¿à¦›à§ à¦•à¦¿à¦›à§ à¦®à¦¾à¦¨à§à¦· chrome a à¦¢à§à¦•à¦›à§‡ðŸ˜©\n\nðŸ•› ð“›ð“®ð“°ð“®ð“·ð“­ð“ªð“»ð”‚ ð“ð“²ð“°ð“±ð“½ ð“¥ð“²ð“«ð“®ð“¼ âœ¨"] },
  { timer: "1:00:00 AM", message: ["ðŸŒ™ à¦à¦–à¦¨ à¦°à¦¾à¦¤ à§§à¦Ÿà¦¾ à¦¬à§‡à¦œà§‡ à¦—à§‡à¦²à§‹, à¦¸à¦¬à¦¾à¦° à¦•à¦¾à¦œ à¦¹à¦¯à¦¼à§‡ à¦—à§‡à¦²à§‹ðŸ˜’ðŸ¤Ÿ\n\nðŸ¦‰ ð“›ð“ªð“½ð“® ð“ð“²ð“°ð“±ð“½ ð“œð“¸ð“¸ð“­..."] },
  { timer: "2:00:00 AM", message: ["ðŸŒ™ à¦à¦–à¦¨ à¦°à¦¾à¦¤ à§¨à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡, à¦¸à¦¬à¦¾à¦‡ à¦®à¦¨à§‡ à¦¹à¦¯à¦¼ à¦˜à§à¦®à¦¾à¦¯à¦¼ à¦—à§‡à¦›à§‡ à¦¨à¦¾à¦•à¦¿ à¦•à¦¾à¦œ à¦•à¦°à¦¤à¦¾à¦¸à§‡ðŸ˜›\n\nðŸŒŒ ð“ð“²ð“°ð“±ð“½ ð“–ð“»ð“²ð“·ð“­ð“®ð“»ð“¼"] },
  { timer: "3:00:00 AM", message: ["ðŸŒ™ à¦à¦–à¦¨ à¦°à¦¾à¦¤ à§©à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡, à¦¯à¦¾à¦°à¦¾ à¦ªà§à¦°à§‡à¦® à¦•à¦°à§‡ à¦¤à¦¾à¦°à¦¾ à¦œà§‡à¦—à§‡ à¦†à¦¸à§‡ ðŸ¤­ðŸ¤­\n\nðŸ’˜ ð“›ð“¸ð“¿ð“®ð“»ð“¼' ð“—ð“¸ð“¾ð“»"] },
  { timer: "4:00:00 AM", message: ["ðŸŒ™ à¦à¦–à¦¨ à¦°à¦¾à¦¤ à§ªà¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡, à¦•à¦¿à¦›à§ à¦®à¦¾à¦¨à§à¦· à¦ªà§à¦°à§‡à¦® à¦•à¦°à§‡ðŸ˜© à¦•à¦¿à¦›à§ à¦®à¦¾à¦¨à§à¦· à¦˜à§à¦®à¦¾à¦¯à¦¼ðŸ˜‘ à¦†à¦®à¦¿ à¦¶à§à¦§à§ à¦œà§‡à¦—à§‡ à¦†à¦¸à¦¿ðŸ˜¶\n\nðŸŒƒ ð“ð“²ð“°ð“±ð“½ ð“žð”€ð“µ"] },
  { timer: "5:00:00 AM", message: ["ðŸ•Œ à¦à¦–à¦¨ à¦°à¦¾à¦¤ à§«à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡, à¦à¦•à¦Ÿà§ à¦ªà¦° à¦«à¦œà¦°à§‡à¦° à¦†à¦¯à¦¾à¦¨ à¦¦à¦¿à¦¬à§‡, à¦¨à¦¾à¦®à¦¾à¦œ à¦ªà¦¡à¦¼à§‡ à¦¨à¦¿à¦“ à¦¸à¦¬à¦¾à¦‡\n\nâœ¨ ð“¢ð“¹ð“²ð“»ð“²ð“½ð“¾ð“ªð“µ ð“£ð“²ð“¶ð“®"] },
  { timer: "6:00:00 AM", message: ["ðŸŒ„ à¦à¦–à¦¨ à¦¸à¦•à¦¾à¦² à§¬à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡, à¦¸à¦¬à¦¾à¦‡ à¦¨à¦¾à¦®à¦¾à¦œ à¦ªà¦¡à¦¼à¦›à§‹ à¦¤à§‹?ðŸ¤¨ à¦¨à¦¾ à¦ªà¦¡à¦¼à¦²à§‡ à¦ªà¦°à§‡ à¦¨à¦¾à¦“ okðŸ¤—\n\nðŸ•Šï¸ ð“Ÿð“®ð“ªð“¬ð“® ð“¶ð“¸ð“»ð“·ð“²ð“·ð“°"] },
  { timer: "7:00:00 AM", message: ["ðŸŒ… à¦à¦–à¦¨ à¦¸à¦•à¦¾à¦² à§­à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡, à¦˜à§à¦® à¦¥à§‡à¦•à§‡ à¦‰à¦ à§‹ à¦¸à¦¬à¦¾à¦‡, à¦†à¦° à¦ªà¦¡à¦¼à¦¤à§‡ à¦¬à¦¸à§‹ðŸ˜¾ðŸ˜¾\n\nðŸ“š ð“¢ð“½ð“¾ð“­ð”‚ ð“£ð“²ð“¶ð“®"] },
  { timer: "8:00:00 AM", message: ["â˜€ï¸ à¦à¦–à¦¨ à¦¸à¦•à¦¾à¦² à§®à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡, à¦¸à¦¬à¦¾à¦‡ à¦¦à¦¾à¦¤ à¦®à§‡à¦œà§‡, à¦¬à§à¦°à§‡à¦•à¦«à¦¾à¦¸à§à¦Ÿ à¦•à¦°à§‡ à¦¨à¦¾à¦“!ðŸ˜’ðŸ˜Š\n\nðŸž ð“‘ð“»ð“®ð“ªð“´ð“¯ð“ªð“¼ð“½ ð“’ð“µð“¾ð“«"] },
  { timer: "9:00:00 AM", message: ["ðŸ« à¦à¦–à¦¨ à¦¸à¦•à¦¾à¦² à§¯à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡, à¦¸à¦¬à¦¾à¦° à¦¸à§à¦•à§à¦²-à¦•à¦²à§‡à¦œ à¦à¦° à¦¸à¦®à¦¯à¦¼ à¦¹à¦‡à¦¸à§‡ à¦¹à¦¯à¦¼à¦¤à§‹, à¦šà¦²à§‡ à¦¯à§‡à¦“ à¦•à¦¿à¦¨à§à¦¤à§‚ ðŸ¤—\n\nðŸšŒ ð“¢ð“¬ð“±ð“¸ð“¸ð“µ ð“£ð“»ð“ªð“¬ð“´"] },
  { timer: "10:00:00 AM", message: ["ðŸ“– à¦à¦–à¦¨ à¦¸à¦•à¦¾à¦² à§§à§¦à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡, à¦®à¦¨ à¦¦à¦¿à¦¯à¦¼à§‡ à¦•à¦¾à¦œ à¦“ à¦ªà¦¡à¦¼à¦¾à¦¶à§à¦¨à¦¾ à¦•à¦°à§‹ à¦¸à¦¬à¦¾à¦‡ðŸ¤—â¤ï¸\n\nðŸ§  ð“•ð“¸ð“¬ð“¾ð“¼ ð“¶ð“¸ð“­ð“®"] },
  { timer: "11:00:00 AM", message: ["ðŸ¥º à¦à¦–à¦¨ à¦¸à¦•à¦¾à¦² à§§à§§à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡, à¦®à¦¿à¦¸ à¦•à¦°à¦›à¦¿ à¦¤à§‹à¦®à¦¾à¦¦à§‡à¦°ðŸ¥º à¦•à¦–à¦¨ à¦†à¦¸à¦¬à§‡ à¦¤à§à¦®à¦°à¦¾ðŸ¥º\n\nðŸ¤— ð“•ð“»ð“²ð“®ð“·ð“­ð“¼' ð“œð“¸ð“¶ð“®ð“·ð“½"] },
  { timer: "12:00:00 PM", message: ["ðŸ« à¦à¦–à¦¨ à¦¦à§à¦ªà§à¦° à§§à§¨à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡, à¦¬à¦¾à¦šà§à¦šà¦¾à¦¦à§‡à¦° à¦¸à§à¦•à§à¦² à¦¶à§‡à¦· à¦¹à¦¯à¦¼à§‡ à¦—à§‡à¦¸à§‡ à¦¹à¦¯à¦¼à¦¤à§‹\n\nðŸŽ’ ð“¢ð“¬ð“±ð“¸ð“¸ð“µ ð“”ð“·ð“­"] },
  { timer: "1:00:00 PM", message: ["ðŸ› à¦à¦–à¦¨ à¦¦à§à¦ªà§à¦° à§§à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡, à¦¸à¦¬à¦¾à¦‡ à¦¬à¦¾à¦¸à¦¾à¦¯à¦¼ à¦¯à¦¾à¦“ðŸ¤— â¤ï¸\n\nðŸ  ð“—ð“¸ð“¶ð“® ð“£ð“²ð“¶ð“®"] },
  { timer: "2:00:00 PM", message: ["ðŸš¿ à¦à¦–à¦¨ à¦¦à§à¦ªà§à¦° à§¨à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡, à¦¸à¦¬à¦¾à¦‡ à¦•à¦¾à¦œ à¦¬à¦¨à§à¦§ à¦•à¦°à§‡, à¦—à§‹à¦¸à¦² à¦•à¦°à§‡ à¦¨à¦¾à¦“ ðŸ˜’\n\nðŸ› ð“¡ð“®ð“¯ð“»ð“®ð“¼ð“± ð“¨ð“¸ð“¾ð“»ð“¼ð“®ð“µð“¯"] },
  { timer: "3:00:00 PM", message: ["ðŸ½ï¸ à¦à¦–à¦¨ à¦¦à§à¦ªà§à¦° à§©à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡, à¦¸à¦¬à¦¾à¦‡ à¦¦à§à¦ªà§à¦°à§‡à¦° à¦–à¦¾à¦¬à¦¾à¦° à¦–à§‡à¦¯à¦¼à§‡ à¦¨à¦¾à¦“ ðŸ¥°\n\nðŸ˜‹ ð“›ð“¾ð“·ð“¬ð“± ð“£ð“²ð“¶ð“®"] },
  { timer: "4:00:00 PM", message: ["ðŸ˜´ à¦à¦–à¦¨ à¦¬à¦¿à¦•à¦¾à¦² à§ªà¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡, à¦¸à¦¬à¦¾à¦‡ à¦à¦•à¦Ÿà§ à¦˜à§à¦®à¦¾à¦“\n\nðŸ’¤ ð“ð“ªð“¹ ð“ž'ð“¬ð“µð“¸ð“¬ð“´"] },
  { timer: "5:00:00 PM", message: ["ðŸ•Œ à¦à¦–à¦¨ à¦¬à¦¿à¦•à¦¾à¦² à§«à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡, à¦†à¦¸à¦°à§‡à¦° à¦†à¦¯à¦¾à¦¨ à¦¦à¦¿à¦²à§‡, à¦¸à¦¬à¦¾à¦‡ à¦¨à¦¾à¦®à¦¾à¦œ à¦ªà¦¡à¦¼à§‡ à¦¨à¦¿à¦“ ðŸ¥€\n\nðŸ™ ð“Ÿð“»ð“ªð”‚ð“®ð“» ð“£ð“²ð“¶ð“®"] },
  { timer: "6:00:00 PM", message: ["âš½ à¦à¦–à¦¨ à¦¸à¦¨à§à¦§à§à¦¯à¦¾ à§¬à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡, à¦•à§‡à¦‰ à¦–à§‡à¦²à¦¾ à¦§à§à¦²à¦¾ à¦•à¦°à¦²à§‡ à¦®à¦¾à¦ à§‡ à¦¯à¦¾à¦“ðŸ˜»\n\nðŸ† ð“–ð“ªð“¶ð“® ð“£ð“²ð“¶ð“®"] },
  { timer: "7:00:00 PM", message: ["ðŸ½ï¸ à¦à¦–à¦¨ à¦¸à¦¨à§à¦§à§à¦¯à¦¾ à§­à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡, à¦¸à¦¬à¦¾à¦‡ à¦¹à¦¾à¦¤à¦®à§à¦– à¦§à§à¦¯à¦¼à§‡ à¦•à¦¿à¦›à§ à¦–à§‡à¦¯à¦¼à§‡ à¦¨à¦¾à¦“ à¦à¦¬à¦‚ à¦ªà¦°à¦¿à¦¬à¦¾à¦°à§‡à¦° à¦¸à¦¾à¦¥à§‡ à¦¸à¦®à¦¯à¦¼ à¦•à¦¾à¦Ÿà¦¾à¦“ðŸ˜\n\nðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ ð“•ð“ªð“¶ð“²ð“µð”‚ ð“£ð“²ð“¶ð“®"] },
  { timer: "8:00:00 PM", message: ["ðŸ•Œ à¦à¦–à¦¨ à¦°à¦¾à¦¤ à§®à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡, à¦¸à¦¬à¦¾à¦‡ à¦à¦–à¦¨ à¦®à¦¾à¦—à¦°à¦¿à¦¬à§‡à¦° à¦¨à¦¾à¦®à¦¾à¦œ à¦ªà¦¡à¦¼à§‡ à¦¨à¦¾à¦“ðŸ¤—ðŸ¤—\n\nâœ¨ ð“”ð“¿ð“®ð“·ð“²ð“·ð“° ð“¥ð“²ð“«ð“®ð“¼"] },
  { timer: "9:00:00 PM", message: ["ðŸ“š à¦à¦–à¦¨ à¦°à¦¾à¦¤ à§¯à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡, à¦à¦•à¦Ÿà§ à¦ªà¦¡à¦¼à¦¤à§‡ à¦¬à¦¸à§‹ à¦¸à¦¬à¦¾à¦‡\n\nðŸ“ ð“¢ð“½ð“¾ð“­ð”‚ ð“žð“·!"] },
  { timer: "10:00:00 PM", message: ["ðŸŒ™ à¦à¦–à¦¨ à¦°à¦¾à¦¤ à§§à§¦à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡, à¦¸à¦¬à¦¾à¦‡ à¦•à¦¿ à¦¶à§à¦¯à¦¼à§‡ à¦ªà¦¡à¦¼à¦²à¦¾??, à¦—à§à¦°à§à¦ª à¦ à¦†à¦¸à§‹ à¦¸à¦¬à¦¾à¦‡ðŸ™‚\n\nðŸŒƒ ð“ð“²ð“°ð“±ð“½ ð“–ð“ªð“½ð“±ð“®ð“»ð“²ð“·ð“°"] },
  { timer: "11:00:00 PM", message: ["ðŸ˜´ à¦à¦–à¦¨ à¦°à¦¾à¦¤ à§§à§§à¦Ÿà¦¾ à¦¬à¦¾à¦œà§‡, à¦¸à¦¬à¦¾à¦‡ à¦†à¦¡à§à¦¡à¦¾ à¦¦à¦¿à¦¤à¦¾à¦¸à§‡, à¦†à¦®à¦¾à¦° à¦¬à¦‰ à¦¨à¦¾à¦‡ à¦­à¦¾à¦‡ ðŸ¥º à¦˜à§à¦® à¦“ à¦†à¦¸à§‡ à¦¨à¦¾ðŸ˜­ à¦†à¦¡à§à¦¡à¦¾ à¦“ à¦¦à¦¿à¦¤à§‡ à¦ªà¦¾à¦°à¦¿ à¦¨à¦¾ðŸ¥º à¦•à¦¿ à¦œà§à¦¬à¦¾à¦²à¦¾\n\nðŸ’” ð“¢ð“ªð“­ ð“ð“²ð“°ð“±ð“½"] },
];

// Stylish and legendary auto-messaging engine
module.exports.onLoad = function ({ api }) {
  const logger = require("../../utils/log.js");

  setInterval(() => {
    try {
      const now = new Date();
      // Convert to Bangladesh time (UTC+6)
      const bdTime = new Date(now.getTime() + (6 * 60 * 60 * 1000));
      const currentTime = bdTime.toLocaleString('en-US', { 
        hour12: true,
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit'
      }).split(' ')[1] + ' ' + bdTime.toLocaleString('en-US', { 
        hour12: true 
      }).split(' ')[2];

      const timeMsg = timeMessages.find(msg => msg.timer === currentTime);

      if (timeMsg) {
        const randomMessage = timeMsg.message[Math.floor(Math.random() * timeMsg.message.length)];

        // Get approved groups from config
        const fs = require('fs');
        const path = require('path');
        const configPath = path.join(__dirname, '../../config.json');

        try {
          delete require.cache[require.resolve(configPath)];
          const config = require(configPath);

          let targetGroups = [];

          // Check if AUTO_APPROVE system is enabled
          if (config.AUTO_APPROVE && config.AUTO_APPROVE.enabled && config.AUTO_APPROVE.approvedGroups) {
            targetGroups = config.AUTO_APPROVE.approvedGroups;
          } else if (config.APPROVAL && config.APPROVAL.approvedGroups) {
            // Use manual approval system groups
            targetGroups = config.APPROVAL.approvedGroups;
          } else if (global.data.allThreadID) {
            // Fallback to global thread list
            targetGroups = global.data.allThreadID;
          }

          if (targetGroups && targetGroups.length > 0) {
            targetGroups.forEach(threadID => {
              try {
                api.sendMessage(
                  `â”â”â”â”â”â”â”â”â”â” â˜… â˜… â˜… â”â”â”â”â”â”â”â”â”â”\n${randomMessage}\nâ”â”â”â”â”â”â”â”â”â” â˜… â˜… â˜… â”â”â”â”â”â”â”â”â”â”\n\nðŸ¤– ð‘©ð’ð’•: TOHI-BOT \nðŸ› ï¸ Made by TOHIDUL`,
                  threadID
                );
              } catch (sendError) {
                // Silent fail for individual sends
              }
            });
            logger.log(`Auto message sent to ${targetGroups.length} groups at ${currentTime}`, "AUTO MSG");
          }
        } catch (configError) {
          logger.log(`Error reading config for auto message: ${configError.message}`, "ERROR");
        }
      }
    } catch (error) {
      logger.log(`Auto message error: ${error.message}`, "ERROR");
    }
  }, 60000); // Check every minute instead of every second
};

module.exports.run = () => {};